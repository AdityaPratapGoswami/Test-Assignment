<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form Data</title>
  </head>
  <body>
    <ul id="data-container"></ul>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.103.0.min.js">
              AWS.config.update({
              AccessKey: AKIAYVSXMH3MMFQWV6V2,
              Secret: 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,
              region: ap-southeast-1,
            });

              const dynamodb = new AWS.DynamoDB.DocumentClient();

              // table name
              const tableName = 'FormData';

              // Use the scan operation to retrieve all items from the table
      dynamodb.scan({ TableName: tableName }, (err, data) => {
              if (err) {
                  console.error('Error retrieving form data:', err);
              } else {
                  console.log('Form data retrieved successfully:', data.Items);
                  // Process the retrieved data and display it on the page
                  displayFormData(data.Items);
              }
      });

              // Function to display form data on the page
        function displayFormData(formData) {
              // Access the DOM element where you want to display the data
              const dataContainer = document.getElementById('data-container');

              // Create HTML elements dynamically to display the form data
              formData.forEach((item) => {
                  const listItem = document.createElement('li');
                  listItem.textContent = `${item.firstName} ${item.lastName} - ${item.email}`;
                  dataContainer.appendChild(listItem);
              });
        }
    </script>
  </body>
</html>
